:ruby
  min_items_per_column = 4
  items_per_column = @base_models.length / 2

  if (items_per_column < min_items_per_column)
    items_per_column = min_items_per_column
  end

  base_model_slices = @base_models.each_slice( items_per_column )

.body.dialog.add-child-dialog{ :'data-columns' => base_model_slices.size }
  .header
    = t("add new node", :scope => controller_scope_name)
  .content.clearInside
    .description
      = t("select content type of new node", :scope => controller_scope_name)
    .content_types
      - base_model_slices.each do |slice|
        %ul.block
          - slice.each do |base_model|
            %li= link_to base_model, new_releaf_node_path(:parent_id => @resource.parent_id, :content_type => base_model.name)
  .footer.clearInside
    - cancel_url = (@resource.parent_id.blank?) ? url_for( :action => 'index' ) : url_for( :action => 'edit', :id => @resource.parent_id )
    %a.button.secondary{ :data => {:type => 'cancel'}, :href => cancel_url }
      %i.icon-ban-circle
      %span= t('cancel', :scope => 'admin.global')

