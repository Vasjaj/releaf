:ruby

- if object.new_record?
  = form.hidden_field :parent_id, value: params[:parent_id] || object.parent_id
  = hidden_field_tag(:content_type, params[:content_type])

.section.node-fields
  = form.releaf_fields(:name, :content_type, :slug, :item_position)
  .clear
  = form.releaf_fields(:active)
  - if object.locale_selection_enabled?
    = form.releaf_fields(:locale)
  .clear
  - if object.own_fields_to_display.present?
    %hr
    = form.releaf_fields(object.own_fields_to_display)
    .clear

.section.content-fields
  - content_fields_to_display = form.object.content_fields_to_display(params[:action])
  - if content_fields_to_display.present?
    = form.fields_for :content, form.object.content || form.object.content_class.new do |content_form|
      = content_form.releaf_fields(content_fields_to_display)
  .clear
